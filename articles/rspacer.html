<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rspacer">
<title>Introduction to rspacer • rspacer</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to rspacer">
<meta property="og:description" content="rspacer">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rspacer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/rspacer.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/burgerga/rspacer/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction to rspacer</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/burgerga/rspacer/blob/HEAD/vignettes/rspacer.Rmd" class="external-link"><code>vignettes/rspacer.Rmd</code></a></small>
      <div class="d-none name"><code>rspacer.Rmd</code></div>
    </div>

    
    
<p>The goal of rspacer is to “wrap” the <a href="https://community.researchspace.com/public/apiDocs" class="external-link">RSpace
API</a>, that is, allow you to use the API directly from R using
convenience functions.</p>
<p><strong>This package (and its documentation) is a work-in-progress.
Contributions are welcome!</strong></p>
<div class="section level2">
<h2 id="setting-up-rspacer">Setting up rspacer<a class="anchor" aria-label="anchor" href="#setting-up-rspacer"></a>
</h2>
<p>To use rspacer it needs to know two things:</p>
<ol style="list-style-type: decimal">
<li>The API URL for your RSpace instance (this is typically the URL of
your RSpace instance followed by <code>api/v1</code>, e.g. <a href="https://leiden.researchspace.com/api/v1" class="external-link uri">https://leiden.researchspace.com/api/v1</a>)</li>
<li>Your API key, which is an authentication token you can use instead
of your username and password. To create an API key go to ‘Manage API
Key’ section of your RSpace profile page (MyRSpace -&gt; Profile).
<strong>You should keep your API key private.</strong> You can
regenerate API key at any time, which will invalidate the old key.</li>
</ol>
<p>You can use the <code><a href="../reference/set_api_url.html">set_api_url()</a></code> and
<code><a href="../reference/set_api_key.html">set_api_key()</a></code> function to make these available to rspacer
in the current session. To make this information persistent you can
store it in environment variables. An easy way to do this is with
<code>usethis::edit_r_environ()</code>; in the file that opens, you
should add the following lines (insert your own URL and key):</p>
<pre><code><span><span class="va">RSPACE_API_URL</span><span class="op">=</span><span class="st">"https://leiden.researchspace.com/api/v1"</span></span>
<span><span class="va">RSPACE_API_KEY</span><span class="op">=</span><span class="st">"&lt;YOUR_API_KEY_HERE&gt;"</span></span></code></pre>
<p>After saving the file and restarting R, you should now be able to
run</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/burgerga/rspacer" class="external-link">rspacer</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/api_status.html">api_status</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; $message</span></span>
<span><span class="co">#&gt; [1] "OK"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $rspaceVersion</span></span>
<span><span class="co">#&gt; [1] "1.97.5"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="functionality">Functionality<a class="anchor" aria-label="anchor" href="#functionality"></a>
</h2>
<div class="section level3">
<h3 id="folders">Folders<a class="anchor" aria-label="anchor" href="#folders"></a>
</h3>
<p>Now you can use rspacer to interact with your RSpace Workspace. For
example, <code><a href="../reference/folder_tree.html">folder_tree()</a></code> will show you the content of your
Workspace as a tibble:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/folder_tree.html">folder_tree</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 10 × 9</span></span>
<span><span class="co">#&gt;        id globalId name              created lastModified parentFolderId type  `_links`</span></span>
<span><span class="co">#&gt;     &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;             &lt;chr&gt;   &lt;chr&gt;                 &lt;int&gt; &lt;chr&gt; &lt;list&gt;  </span></span>
<span><span class="co">#&gt;  1 356307 SD356307 Gerhard Burger    2024-0… 2024-01-17T…           7813 DOCU… &lt;list&gt;  </span></span>
<span><span class="co">#&gt;  2 260004 FL260004 LACDR RDM         2023-1… 2023-11-06T…           7813 FOLD… &lt;list&gt;  </span></span>
<span><span class="co">#&gt;  3 242175 FL242175 GABi001_EMP_regu… 2023-0… 2023-06-14T…           7813 FOLD… &lt;list&gt;  </span></span>
<span><span class="co">#&gt;  4 242400 FL242400 Ontologies        2023-0… 2023-06-01T…           7813 FOLD… &lt;list&gt;  </span></span>
<span><span class="co">#&gt;  5 242398 FL242398 Api Inbox         2023-0… 2023-06-01T…           7813 FOLD… &lt;list&gt;  </span></span>
<span><span class="co">#&gt;  6 242182 FL242182 Publications      2023-0… 2023-05-30T…           7813 FOLD… &lt;list&gt;  </span></span>
<span><span class="co">#&gt;  7  21961 FL21961  DDS2 Data manage… 2023-0… 2023-03-16T…           7813 FOLD… &lt;list&gt;  </span></span>
<span><span class="co">#&gt;  8   7833 FL7833   Templates         2022-1… 2022-12-22T…           7813 FOLD… &lt;list&gt;  </span></span>
<span><span class="co">#&gt;  9   7819 GF7819   Gallery           2022-1… 2022-12-22T…           7813 FOLD… &lt;list&gt;  </span></span>
<span><span class="co">#&gt; 10   7814 FL7814   Shared            2022-1… 2022-12-22T…           7813 FOLD… &lt;list&gt;  </span></span>
<span><span class="co">#&gt; # ℹ 1 more variable: owner &lt;list&gt;</span></span></code></pre></div>
<p>You can also specify an id or Unique ID (<code>globalId</code>) to
show the contents of a specific folder:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/folder_tree.html">folder_tree</a></span><span class="op">(</span><span class="fl">7819</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 8 × 9</span></span>
<span><span class="co">#&gt;      id globalId name   created lastModified parentFolderId type  `_links` owner       </span></span>
<span><span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;                 &lt;int&gt; &lt;chr&gt; &lt;list&gt;   &lt;list&gt;      </span></span>
<span><span class="co">#&gt; 1  7828 GF7828   Snipp… 2022-1… 2022-12-22T…           7819 FOLD… &lt;list&gt;   &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 2  7827 GF7827   PdfDo… 2022-1… 2022-12-22T…           7819 FOLD… &lt;list&gt;   &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 3  7826 GF7826   Misce… 2022-1… 2022-12-22T…           7819 FOLD… &lt;list&gt;   &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 4  7825 GF7825   Docum… 2022-1… 2022-12-22T…           7819 FOLD… &lt;list&gt;   &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 5  7824 GF7824   Chemi… 2022-1… 2022-12-22T…           7819 FOLD… &lt;list&gt;   &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 6  7823 GF7823   Videos 2022-1… 2022-12-22T…           7819 FOLD… &lt;list&gt;   &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 7  7822 GF7822   Audios 2022-1… 2022-12-22T…           7819 FOLD… &lt;list&gt;   &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 8  7820 GF7820   Images 2022-1… 2022-12-22T…           7819 FOLD… &lt;list&gt;   &lt;named list&gt;</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="documents">Documents<a class="anchor" aria-label="anchor" href="#documents"></a>
</h3>
<div class="section level4">
<h4 id="retrieve">Retrieve<a class="anchor" aria-label="anchor" href="#retrieve"></a>
</h4>
<p>You can retrieve documents using</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/document_retrieve.html">document_retrieve</a></span><span class="op">(</span><span class="st">"SD356307"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span><span class="co">#&gt;                Length Class  Mode     </span></span>
<span><span class="co">#&gt; id              1     -none- numeric  </span></span>
<span><span class="co">#&gt; globalId        1     -none- character</span></span>
<span><span class="co">#&gt; name            1     -none- character</span></span>
<span><span class="co">#&gt; created         1     -none- character</span></span>
<span><span class="co">#&gt; lastModified    1     -none- character</span></span>
<span><span class="co">#&gt; parentFolderId  1     -none- numeric  </span></span>
<span><span class="co">#&gt; signed          1     -none- logical  </span></span>
<span><span class="co">#&gt; tags            0     -none- NULL     </span></span>
<span><span class="co">#&gt; tagMetaData     0     -none- NULL     </span></span>
<span><span class="co">#&gt; form           10     -none- list     </span></span>
<span><span class="co">#&gt; owner          10     -none- list     </span></span>
<span><span class="co">#&gt; fields          8     -none- list     </span></span>
<span><span class="co">#&gt; _links          1     -none- list</span></span></code></pre></div>
<p>The result is json converted to an R list, to get the field
information you could use</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="fu">tibble</span><span class="op">(</span>fields <span class="op">=</span> <span class="va">res</span><span class="op">$</span><span class="va">fields</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">unnest_wider</span><span class="op">(</span><span class="va">fields</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">name</span>, <span class="va">type</span>, <span class="va">content</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 8 × 3</span></span>
<span><span class="co">#&gt;   name          type   content                                                         </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;         &lt;chr&gt;  &lt;chr&gt;                                                           </span></span>
<span><span class="co">#&gt; 1 Template Used string "LACDR-ISA - Contact v0.2.0"                                    </span></span>
<span><span class="co">#&gt; 2 Name          string "Gerhard A. Burger"                                             </span></span>
<span><span class="co">#&gt; 3 Email         string "g.a.burger@lacdr.leidenuniv.nl"                                </span></span>
<span><span class="co">#&gt; 4 Phone         string ""                                                              </span></span>
<span><span class="co">#&gt; 5 ORCID         string "0000-0003-1062-5576"                                           </span></span>
<span><span class="co">#&gt; 6 Address       text   "&lt;p&gt;&lt;a href=\"https://www.universiteitleiden.nl/en/locations/go…</span></span>
<span><span class="co">#&gt; 7 Affiliation   string "Leiden University"                                             </span></span>
<span><span class="co">#&gt; 8 Roles         text   ""</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="create">Create<a class="anchor" aria-label="anchor" href="#create"></a>
</h4>
<p><strong>WORK IN PROGRESS</strong></p>
<p>Creating documents is currently possible using the (unexported) low
level <code>rspacer:::document_post()</code> function. For example, the
following code will create a Basic Document in the ‘ApiInbox’ folder</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># construct body</span></span>
<span><span class="va">body_r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"rspacer_create_doc"</span>,</span>
<span>  tags <span class="op">=</span> <span class="st">"API"</span>,</span>
<span>  fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>content <span class="op">=</span> <span class="st">"Creating a document using rspacer is not (yet) easy"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">rspacer</span><span class="fu">:::</span><span class="fu">document_post</span><span class="op">(</span><span class="va">body_r</span><span class="op">)</span></span>
<span><span class="co">#&gt; Document created: &lt;https://leiden.researchspace.com/globalId/SD376167&gt;</span></span></code></pre></div>
<p>The <code><a href="../reference/document_create_from_html.html">document_create_from_html()</a></code> is a wrapper around this
function that creates the body from an HTML file (e.g. generated with
quarto) by splitting the html on the <code>h2</code> tag. Note that
template used MUST have the same number of fields as sections in the
HTML file. For more info see <a href="https://community.researchspace.com/public/apiDocs" class="external-link uri">https://community.researchspace.com/public/apiDocs</a> [POST
/documents].</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gerhard Burger, Hanneke Leegwater.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
